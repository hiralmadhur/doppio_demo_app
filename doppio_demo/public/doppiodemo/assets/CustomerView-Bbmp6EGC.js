var $e=Object.defineProperty,je=Object.defineProperties;var Oe=Object.getOwnPropertyDescriptors;var pe=Object.getOwnPropertySymbols;var Ne=Object.prototype.hasOwnProperty,Ie=Object.prototype.propertyIsEnumerable;var ge=(g,p,n)=>p in g?$e(g,p,{enumerable:!0,configurable:!0,writable:!0,value:n}):g[p]=n,Z=(g,p)=>{for(var n in p||(p={}))Ne.call(p,n)&&ge(g,n,p[n]);if(pe)for(var n of pe(p))Ie.call(p,n)&&ge(g,n,p[n]);return g},ee=(g,p)=>je(g,Oe(p));var L=(g,p,n)=>new Promise((x,h)=>{var C=v=>{try{b(n.next(v))}catch(S){h(S)}},T=v=>{try{b(n.throw(v))}catch(S){h(S)}},b=v=>v.done?x(v.value):Promise.resolve(v.value).then(C,T);b((n=n.apply(g,p)).next())});import{u as me,e as xe,f as ve,g as fe,o as r,c as l,a as e,d as f,t as c,n as y,F as M,h as E,b as Q,i as te,w as se,r as k,s as re,_ as Te,j as Pe,k as Le,l as ae,v as Me,m as O,p as I,q as oe,x as P}from"./index-BbVMXxNJ.js";import{T as Ee,C as qe}from"./ConfirmDialog-BX-srcnT.js";const Ae={class:"h-full flex flex-col bg-white border-r border-gray-200 text-gray-700 font-sans transition-all duration-300"},De={key:0,class:"font-bold text-base tracking-wide text-gray-100"},Re={class:"flex-1 overflow-y-auto custom-scrollbar text-[13px]"},ze={key:0,class:"p-4 text-center text-gray-400"},He=["onClick"],Be={key:0,class:"absolute left-0 top-0 bottom-0 w-1 bg-gray-800"},Ve={class:"flex items-center gap-3"},Ue={key:0,class:"text-sm"},Fe={class:"bg-gray-50/50 pb-1 overflow-hidden transition-all"},Je=["onClick"],Ge={class:"flex items-center gap-2 truncate"},Qe={class:"truncate"},We={class:"transition-all"},Ye=["onClick"],Ke={class:"flex items-center gap-2"},Xe=["onClick"],Ze={class:"flex items-center gap-2 truncate"},et={class:"truncate"},tt={class:"p-3 border-t border-gray-200 bg-gray-50 shrink-0"},st={key:0},at={__name:"MarketSidebar",props:["isCollapsed"],emits:["close-mobile","toggle-collapse"],setup(g,{emit:p}){const n=p,x=me(),h=xe(),C=k([]),T=k(!0),b=k([]),v=k([]),S=k([]),q=o=>h.params.pincode===o,V=o=>h.params.society===o,_=o=>h.params.category===o,W=(o,i)=>h.params.sellerName===o&&h.params.category===i,B=(o,i,u)=>{o==="pincode"?(b.value.includes(i)?b.value=[]:b.value=[i],z("pincode",{pincode:i})):o==="society"?(v.value.includes(i)?v.value=[]:v.value=[i],z("society",{pincode:u.pincode,society:i})):o==="category"&&(S.value.includes(i)?S.value=[]:S.value=[i],z("category",{pincode:u.pincode,society:u.society,category:i}))},z=(o,i)=>{let u="";o==="pincode"&&(u="ShopPincode"),o==="society"&&(u="ShopSociety"),o==="category"&&(u="ShopCategory"),o==="seller"&&(u="SellerItems",n("close-mobile")),x.push({name:u,params:i})},Y=()=>{b.value=[],v.value=[],S.value=[],x.push({name:"Home"})},U=()=>{const o=h.params;o.pincode?b.value=[o.pincode]:b.value=[],o.society?v.value=[o.society]:v.value=[],o.category?S.value=[o.category]:S.value=[]};ve(()=>h.params,U,{deep:!0,immediate:!0});const K=()=>L(this,null,function*(){T.value=!0;try{const i=yield(yield fetch("/api/method/doppio_demo.api.get_customer_sidebar_data")).json();i.message&&i.message.status==="success"&&(C.value=i.message.data,U())}catch(o){console.error(o)}finally{T.value=!1}});fe(()=>K());const N=()=>L(this,null,function*(){try{yield fetch("/api/method/logout",{method:"POST"}),re.isLoggedIn=!1,window.location.href="/login"}catch(o){window.location.href="/login"}});return(o,i)=>(r(),l("div",Ae,[e("div",{class:y(["h-14 flex items-center bg-gray-900 text-white shrink-0 shadow-sm px-3 hover:bg-gray-800 transition-colors",g.isCollapsed?"justify-center":"justify-between"])},[e("div",{class:"flex items-center gap-2 overflow-hidden cursor-pointer w-full",onClick:Y},[i[2]||(i[2]=e("span",{class:"text-xl"},"üõí",-1)),g.isCollapsed?f("",!0):(r(),l("span",De,"HyperMart"))]),e("button",{onClick:i[0]||(i[0]=u=>o.$emit("close-mobile")),class:"lg:hidden text-gray-400 hover:text-white"},"‚úï"),e("button",{onClick:i[1]||(i[1]=u=>o.$emit("toggle-collapse")),class:"hidden lg:block text-gray-400 hover:text-white p-1 rounded hover:bg-gray-800 ml-auto"},c(g.isCollapsed?"¬ª":"¬´"),1)],2),e("div",Re,[T.value?(r(),l("div",ze,"Loading map...")):(r(!0),l(M,{key:1},E(C.value,u=>(r(),l("div",{key:u.pincode,class:"border-b border-gray-50"},[e("button",{onClick:$=>B("pincode",u.pincode,{}),class:y(["w-full flex items-center py-3 hover:bg-gray-50 transition-colors group relative",[g.isCollapsed?"justify-center px-0":"justify-between px-3",q(u.pincode)?"bg-gray-100 text-gray-900 font-extrabold":"text-gray-600"]])},[q(u.pincode)?(r(),l("div",Be)):f("",!0),e("div",Ve,[e("span",{class:y(["text-base transition-transform",q(u.pincode)?"scale-110":"group-hover:scale-110"])},"üìç",2),g.isCollapsed?f("",!0):(r(),l("span",Ue,c(u.pincode),1))]),g.isCollapsed?f("",!0):(r(),l("span",{key:1,class:y(["text-[10px] text-gray-400 transition-transform duration-300",b.value.includes(u.pincode)?"rotate-180":""])},"‚ñº",2))],10,He),Q(e("div",Fe,[(r(!0),l(M,null,E(u.societies,$=>(r(),l("div",{key:$.name},[e("button",{onClick:se(w=>B("society",$.name,{pincode:u.pincode}),["stop"]),class:y(["w-full flex justify-between pl-8 pr-3 py-2.5 transition-all border-l-[3px] group",[V($.name)?"bg-blue-50 text-blue-700 font-bold border-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-white border-transparent"]])},[e("div",Ge,[i[3]||(i[3]=e("span",{class:"text-sm opacity-70 group-hover:scale-110 transition-transform"},"üè¢",-1)),e("span",Qe,c($.name),1)]),e("span",{class:y(["text-[9px] text-gray-400 transition-transform duration-300",v.value.includes($.name)?"rotate-180":""])},"‚ñº",2)],10,Je),Q(e("div",We,[(r(!0),l(M,null,E($.categories,w=>(r(),l("div",{key:w.name},[e("button",{onClick:se(A=>B("category",w.name,{pincode:u.pincode,society:$.name}),["stop"]),class:y(["w-full flex justify-between items-center gap-2 pl-12 pr-3 py-2 text-[11px] uppercase tracking-wider mt-0.5 transition-colors border-l-[3px] border-transparent",[_(w.name)?"text-orange-700 font-bold bg-orange-50 border-l-orange-500":"text-gray-500 font-medium hover:text-gray-800 hover:bg-white"]])},[e("div",Ke,[i[4]||(i[4]=e("span",null,"üìÇ",-1)),e("span",null,c(w.name),1)]),e("span",{class:y(["text-[8px] opacity-50 transition-transform duration-300",S.value.includes(w.name)?"rotate-180":""])},"‚ñº",2)],10,Ye),Q(e("div",null,[(r(!0),l(M,null,E(w.sellers,A=>(r(),l("div",{key:A.name},[e("button",{onClick:se(le=>z("seller",{pincode:u.pincode,society:$.name,category:w.name,sellerName:A.name}),["stop"]),class:y(["w-full text-left pl-[4rem] pr-3 py-2 text-[12px] flex justify-between items-center group transition-all",[W(A.name,w.name)?"bg-yellow-50 text-gray-900 font-bold border-r-4 border-yellow-400 shadow-inner":"text-gray-500 hover:bg-white hover:text-gray-900"]])},[e("div",Ze,[i[5]||(i[5]=e("span",null,"üè™",-1)),e("span",et,c(A.name),1)])],10,Xe)]))),128))],512),[[te,S.value.includes(w.name)]])]))),128))],512),[[te,v.value.includes($.name)]])]))),128))],512),[[te,b.value.includes(u.pincode)&&!g.isCollapsed]])]))),128))]),e("div",tt,[e("button",{onClick:N,class:"w-full flex items-center justify-center gap-2 text-red-600 font-bold text-xs hover:bg-red-50 py-2 rounded border border-transparent hover:border-red-100 transition-colors"},[i[6]||(i[6]=e("span",null,"üî¥",-1)),g.isCollapsed?f("",!0):(r(),l("span",st,"Logout"))])])]))}},ot={class:"flex h-screen bg-gray-50 overflow-hidden relative font-sans text-gray-900 selection:bg-orange-100"},rt={class:"flex-1 flex flex-col min-w-0 h-full w-full relative transition-all duration-300"},lt={class:"bg-white border-b border-gray-200 h-14 flex items-center justify-between px-4 sticky top-0 z-30 shadow-sm gap-2 sm:gap-4"},nt={class:"flex items-center gap-2"},it={class:"relative group"},dt=["placeholder"],ct={class:"flex items-center gap-1 sm:gap-3"},ut={key:0,class:"absolute top-0 right-0 bg-orange-600 text-white text-[9px] font-bold w-4 h-4 flex items-center justify-center rounded-full border-2 border-white shadow-sm animate-bounce-short"},pt={class:"flex-1 overflow-y-auto p-4 sm:p-6 custom-scrollbar scroll-smooth relative"},gt={key:0,class:"h-full flex flex-col items-center pt-4 sm:pt-8 animate-fade-in"},mt={class:"max-w-5xl w-full"},xt={class:"bg-white rounded-2xl p-6 sm:p-10 shadow-sm border border-gray-100 mb-6 sm:mb-10 flex flex-col md:flex-row items-center justify-between text-center md:text-left relative overflow-hidden group"},vt={class:"z-10 max-w-xl w-full"},ft={class:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-gray-900 mb-3 leading-tight"},bt={class:"text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-yellow-500"},yt={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6"},ht={key:1,class:"max-w-4xl mx-auto space-y-5 animate-fade-in pb-10"},wt={key:0,class:"space-y-4"},_t={key:1,class:"text-center py-20 bg-white rounded-xl border border-dashed border-gray-300"},kt={key:2,class:"space-y-6"},Ct={class:"bg-gray-50 px-4 sm:px-5 py-3 border-b border-gray-100"},St={class:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3"},$t={class:"flex justify-between items-center w-full sm:w-auto sm:gap-6"},jt={class:"flex flex-col sm:block"},Ot={class:"font-mono text-xs sm:text-sm font-bold text-gray-900"},Nt={class:"flex justify-between sm:justify-start gap-6 text-gray-600 w-full sm:w-auto"},It={class:"text-xs sm:text-sm font-bold text-gray-800"},Tt={class:"text-xs sm:text-sm font-bold text-gray-800"},Pt={class:"p-4 sm:p-5 grid gap-4 relative"},Lt={key:0,class:"absolute inset-0 bg-white/40 z-10 pointer-events-none"},Mt={class:"w-12 h-12 border rounded bg-white p-1 flex-shrink-0 flex items-center justify-center"},Et=["src"],qt={key:1,class:"text-lg opacity-20"},At={class:"flex-1 min-w-0"},Dt={class:"text-xs sm:text-sm font-bold text-gray-900 truncate"},Rt={class:"text-[11px] text-gray-500"},zt=["onClick"],Ht={class:"bg-gray-50/50 px-4 sm:px-5 py-3 border-t border-gray-100 flex justify-end gap-3"},Bt=["onClick"],Vt=["onClick"],Ut=["onClick"],Ft={key:2,class:"h-full flex flex-col items-center justify-center text-center animate-fade-in px-4"},Jt={class:"bg-white p-6 sm:p-8 rounded-2xl shadow-sm border border-gray-100 max-w-md w-full"},Gt={class:"text-xl font-bold text-gray-800 mb-2"},Qt={class:"text-sm text-gray-500 mb-6 font-medium text-orange-600"},Wt={class:"flex flex-wrap items-center justify-center gap-2 text-xs text-gray-400 font-mono bg-gray-50 p-2 rounded border border-gray-100"},Yt={key:3,class:"max-w-[1400px] mx-auto animate-fade-in"},Kt={key:0,class:"flex flex-col items-center justify-center h-64"},Xt={key:1},Zt={class:"flex justify-between items-end mb-4 border-b border-gray-200 pb-3 sticky top-0 bg-gray-50 z-10 pt-2"},es={class:"text-lg sm:text-xl font-bold text-gray-900 leading-tight"},ts={class:"flex flex-wrap items-center gap-2 text-[10px] text-gray-500 mt-1"},ss={class:"bg-white border px-1.5 rounded"},as={class:"bg-white border px-1.5 rounded"},os={class:"text-[10px] font-bold bg-gray-200 text-gray-700 px-2 py-1 rounded shadow-sm"},rs={key:0,class:"text-center py-20 bg-white rounded-xl border border-dashed border-gray-300"},ls={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 sm:gap-4 pb-20"},ns={class:"h-32 sm:h-40 p-4 flex items-center justify-center bg-white relative"},is=["src"],ds={key:1,class:"text-4xl opacity-10 grayscale"},cs={class:"p-3 flex flex-col flex-1 border-t border-gray-50 bg-gray-50/30"},us=["title"],ps=["innerHTML"],gs={class:"mt-auto flex items-center justify-between"},ms={class:"flex flex-col"},xs={class:"text-base font-bold text-gray-900"},vs={class:"text-[10px] text-gray-400 line-through"},fs=["onClick"],bs={key:4,class:"max-w-3xl mx-auto animate-fade-in pb-10"},ys={class:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},hs={class:"px-5 py-4 border-b border-gray-100 bg-gray-50 flex justify-between items-center"},ws={class:"text-xs text-gray-500 font-medium bg-white px-2 py-1 rounded border"},_s={key:0,class:"p-10 sm:p-16 text-center"},ks={key:1},Cs={class:"divide-y divide-gray-100 max-h-[60vh] overflow-y-auto custom-scrollbar"},Ss={class:"w-14 h-14 sm:w-16 sm:h-16 border rounded-lg bg-white p-1 flex-shrink-0 flex items-center justify-center"},$s=["src"],js={key:1,class:"text-xl opacity-20"},Os={class:"flex-1 min-w-0"},Ns={class:"font-bold text-sm text-gray-900 truncate"},Is={class:"text-xs text-gray-500 flex items-center gap-1"},Ts={class:"text-xs text-gray-500 mt-0.5"},Ps={class:"flex items-center border border-gray-200 rounded-lg h-8 text-xs bg-white shadow-sm"},Ls=["onClick","disabled"],Ms={class:"w-7 text-center font-bold bg-gray-50 h-full flex items-center justify-center border-x border-gray-200"},Es=["onClick"],qs={class:"text-right min-w-[70px] sm:min-w-[80px]"},As={class:"font-bold text-sm text-gray-900"},Ds=["onClick"],Rs={class:"p-5 bg-gray-50 border-t border-gray-200 flex justify-between items-center shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]"},zs={class:"text-2xl font-black text-gray-900"},Hs=["disabled"],Bs={key:0,class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"},Vs={__name:"CustomerView",setup(g){const p=me(),n=xe(),x=k(null),h=k(null),C=k(!1),T=k(!1),b=k(!1),v=()=>re.user?re.user.split("@")[0]:"User",S=a=>{a.action==="Show Seller Items"&&p.push({name:"SellerItems",params:{sellerName:a.seller.name}}),C.value=!1},q=()=>{b.value=window.innerWidth<1024,b.value||(C.value=!1)},V=()=>{var a;b.value?C.value=!0:(T.value&&(T.value=!1),(a=x.value)==null||a.add("üëà Please select a Pincode from the sidebar.","info"))},_=P(()=>n.name==="Cart"?"Cart":n.name==="Orders"?"Orders":n.name==="SellerItems"?"SellerItems":["ShopPincode","ShopSociety","ShopCategory"].includes(n.name)?"Navigating":"Home"),W=P(()=>_.value==="Navigating"),B=P(()=>_.value!=="Home"),z=P(()=>["SellerItems","Orders"].includes(_.value)),Y=P(()=>n.params.category?n.params.category:n.params.society?n.params.society:n.params.pincode?`Pincode ${n.params.pincode}`:""),U=P(()=>n.params.category?"Select a Shop (Seller) from the sidebar.":n.params.society?"Select a Category (e.g., Grocery) from the sidebar.":n.params.pincode?"Select your Society from the sidebar.":""),K=()=>p.back(),N=k(""),o=k([]),i=k(!1),u=k([]),$=k(!1);fe(()=>{q(),window.addEventListener("resize",q);try{const a=localStorage.getItem("my_cart");a&&(o.value=JSON.parse(a))}catch(a){console.error("Cart Load Error",a)}}),Pe(()=>window.removeEventListener("resize",q));const w=()=>{localStorage.setItem("my_cart",JSON.stringify(o.value))},A=P(()=>_.value==="Orders"?"Search past orders...":"Search products..."),le=a=>N.value?a.replace(new RegExp(`(${N.value})`,"gi"),'<span class="bg-yellow-200">$1</span>'):a,be=a=>L(this,null,function*(){if(a){$.value=!0,u.value=[];try{const s=yield(yield fetch("/api/method/doppio_demo.api.get_customer_sidebar_data")).json();if(s.message&&s.message.status==="success"){let d=[];const m=n.params.pincode,j=n.params.society,R=n.params.category,H=s.message.data.find(F=>F.pincode===m);if(H){const F=H.societies.find(J=>J.name===j);if(F){const J=F.categories.find(G=>G.name===R);if(J){const G=J.sellers.find(Se=>Se.name===a);G&&(d=G.items)}}}u.value=d}}catch(t){console.error("Fetch Items Error",t)}finally{$.value=!1}}});ve(()=>n.params.sellerName,a=>{a&&(N.value="",be(a))},{immediate:!0});const X=P(()=>u.value.length?N.value?u.value.filter(a=>a.item_name.toLowerCase().includes(N.value.toLowerCase())):u.value:[]),D=Le({url:"doppio_demo.api.get_my_orders",auto:!0}),ne=P(()=>{if(!D.data)return[];if(!N.value)return D.data;const a=N.value.toLowerCase();return D.data.filter(t=>t.name.toLowerCase().includes(a)||t.items.some(s=>s.item_name.toLowerCase().includes(a)))}),ye=P(()=>o.value.reduce((a,t)=>a+t.price*t.qty,0)),he=a=>L(this,null,function*(){var d,m;const t=n.params.sellerName||a.seller_name||"Unknown";if(o.value.length>0&&o.value[0].seller_name!==t&&n.params.sellerName){if(!(yield h.value.open("Clear Cart?",`Your cart has items from ${o.value[0].seller_name}. Clear it to add from ${t}?`)))return;o.value=[]}const s=o.value.find(j=>j.item_code===a.item_code);s?s.qty++:o.value.push(ee(Z({},a),{qty:1,price:a.price||a.rate,seller_name:t})),w(),_.value==="Orders"?(d=x.value)==null||d.add("Item added to cart","success"):_.value==="SellerItems"&&((m=x.value)==null||m.add("Added to cart","success"))}),we=(a,t)=>L(this,null,function*(){var m;const s=t||a.seller_name||"Unknown";if(o.value.length>0&&o.value[0].seller_name!==s&&o.value[0].seller_name!=="Unknown"){if(!(yield h.value.open("Clear Cart?",`Cart has items from ${o.value[0].seller_name}. Clear to add ${a.item_name}?`)))return;o.value=[]}const d=o.value.find(j=>j.item_code===a.item_code);d?d.qty++:o.value.push(ee(Z({},a),{qty:1,price:a.price||a.rate,seller_name:s,image:a.image})),w(),(m=x.value)==null||m.add("Item added to cart! Proceed to checkout.","success")}),ie=(a,t)=>{const s=a.qty+t;s>=1&&(a.qty=s),w()},_e=a=>{var t;o.value.splice(a,1),w(),(t=x.value)==null||t.add("Item removed from cart","success")},ke=()=>L(this,null,function*(){var t,s,d;if(!o.value.length)return;i.value=!0;const a=o.value[0].seller_name;try{const j=yield(yield fetch("/api/method/doppio_demo.api.place_custom_order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cart_items:JSON.stringify(o.value),seller_company:a})})).json();if(j.message&&j.message.status==="success")(t=x.value)==null||t.add("Order Placed Successfully! üéâ","success"),o.value=[],w(),D.fetch(),p.push({name:"Orders"});else throw new Error(((s=j.message)==null?void 0:s.message)||"Unknown Error")}catch(m){(d=x.value)==null||d.add("Failed to place order: "+m.message,"error")}finally{i.value=!1}}),Ce=a=>L(this,null,function*(){var t,s,d,m;if(yield h.value.open("Cancel Order?",`Are you sure you want to cancel Order #${a}?`))try{const R=yield(yield fetch("/api/method/doppio_demo.api.cancel_custom_order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_name:a})})).json();R.message&&R.message.status==="success"?((t=x.value)==null||t.add("Order Cancelled Successfully","success"),yield D.fetch()):(d=x.value)==null||d.add(((s=R.message)==null?void 0:s.message)||"Could not cancel","error")}catch(j){(m=x.value)==null||m.add("Network Error","error")}}),de=a=>L(this,null,function*(){var s,d,m,j;if(yield h.value.open("Delete Order?","Are you sure you want to permanently delete this order?"))try{const H=yield(yield fetch("/api/method/doppio_demo.api.delete_custom_order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_name:a})})).json();H.message&&H.message.status==="success"?((s=x.value)==null||s.add("Order Deleted Successfully","success"),D.fetch()):(m=x.value)==null||m.add(((d=H.message)==null?void 0:d.message)||"Could not delete","error")}catch(R){(j=x.value)==null||j.add("Network Error","error")}}),ce=a=>a.docstatus===0?"bg-blue-50 text-blue-600 border-blue-200":a.docstatus===2?"bg-gray-100 text-gray-500 border-gray-300":a.status==="Completed"?"bg-green-50 text-green-700 border-green-200":"bg-yellow-50 text-yellow-700 border-yellow-200",ue=a=>a.docstatus===2?"Cancelled":a.docstatus===0?"Pending Acceptance":a.status;return(a,t)=>(r(),l("div",ot,[ae(Ee,{ref_key:"toastRef",ref:x},null,512),ae(qe,{ref_key:"confirmRef",ref:h},null,512),C.value?(r(),l("div",{key:0,onClick:t[0]||(t[0]=s=>C.value=!1),class:"fixed inset-0 bg-black/60 z-40 lg:hidden backdrop-blur-sm transition-opacity"})):f("",!0),e("div",{class:y(["fixed lg:static inset-y-0 left-0 z-50 bg-white shadow-2xl lg:shadow-none transform transition-all duration-300 ease-in-out h-full border-r border-gray-200",[C.value?"translate-x-0":"-translate-x-full lg:translate-x-0",T.value?"w-20":"w-72 xl:w-80"]])},[ae(at,{isCollapsed:T.value&&!b.value,onSelectAction:S,onCloseMobile:t[1]||(t[1]=s=>C.value=!1),onToggleCollapse:t[2]||(t[2]=s=>T.value=!T.value)},null,8,["isCollapsed"])],2),e("div",rt,[e("header",lt,[e("div",nt,[e("button",{onClick:t[3]||(t[3]=s=>C.value=!C.value),class:"lg:hidden p-2 hover:bg-gray-100 rounded-md text-gray-600 transition-colors active:bg-gray-200"},[...t[13]||(t[13]=[e("span",{class:"text-xl"},"‚ò∞",-1)])]),B.value?(r(),l("button",{key:0,onClick:K,class:"flex items-center gap-1 px-2 py-1 hover:bg-gray-100 rounded text-gray-600 transition-colors group"},[...t[14]||(t[14]=[e("span",{class:"text-base group-hover:-translate-x-0.5 transition-transform"},"‚Üê",-1),e("span",{class:"hidden sm:block text-[11px] font-bold uppercase tracking-wider"},"Back",-1)])])):f("",!0)]),e("div",{class:y(["flex-1 max-w-lg mx-auto transition-all duration-300",z.value?"opacity-100":"opacity-0 pointer-events-none"])},[e("div",it,[Q(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>N.value=s),type:"text",placeholder:A.value,class:"w-full bg-gray-100 focus:bg-white border border-transparent focus:border-orange-500 focus:ring-2 focus:ring-orange-200 rounded-lg py-1.5 pl-9 pr-8 text-sm transition-all outline-none shadow-sm"},null,8,dt),[[Me,N.value]]),t[15]||(t[15]=e("span",{class:"absolute left-3 top-2 text-gray-400 text-xs"},"üîç",-1)),N.value?(r(),l("button",{key:0,onClick:t[5]||(t[5]=s=>N.value=""),class:"absolute right-2 top-1.5 text-gray-400 hover:text-black text-sm"},"‚úï")):f("",!0)])],2),e("div",ct,[e("button",{onClick:t[6]||(t[6]=s=>O(p).push({name:"Home"})),class:"p-2 hover:bg-gray-100 rounded-full transition-colors group relative",title:"Go to Home"},[...t[16]||(t[16]=[e("span",{class:"text-lg sm:text-xl text-gray-500 group-hover:text-blue-600 transition-colors"},"üè†",-1)])]),e("button",{onClick:t[7]||(t[7]=s=>O(p).push({name:"Cart"})),class:y(["relative p-2 hover:bg-orange-50 rounded-full transition-colors group",{"bg-orange-50 text-orange-600":_.value==="Cart"}])},[t[17]||(t[17]=e("span",{class:"text-xl text-gray-600 group-hover:text-orange-600 transition-colors"},"üõí",-1)),o.value.length?(r(),l("span",ut,c(o.value.length),1)):f("",!0)],2),_.value!=="Orders"?(r(),l("button",{key:0,onClick:t[8]||(t[8]=s=>O(p).push({name:"Orders"})),class:"hidden sm:block bg-gray-900 text-white px-3 py-1.5 rounded text-[11px] font-bold uppercase hover:bg-gray-800 transition-colors shadow-sm active:scale-95"}," My Orders ")):f("",!0),_.value!=="Orders"?(r(),l("button",{key:1,onClick:t[9]||(t[9]=s=>O(p).push({name:"Orders"})),class:"sm:hidden p-2 text-gray-600 hover:text-orange-600 transition-colors"}," üìú ")):f("",!0)])]),e("div",pt,[_.value==="Home"?(r(),l("div",gt,[e("div",mt,[e("div",xt,[e("div",vt,[e("h1",ft,[t[18]||(t[18]=I(" Welcome back, ",-1)),t[19]||(t[19]=e("br",{class:"hidden sm:block"},null,-1)),e("span",bt,c(v()),1),t[20]||(t[20]=I("! üëã ",-1))]),t[22]||(t[22]=e("p",{class:"text-gray-500 text-sm sm:text-lg mb-6 sm:mb-8 font-medium"},[I(" Ready to order something fresh? "),e("br",{class:"sm:hidden"}),I(" Select your location to start. ")],-1)),e("button",{onClick:V,class:"w-full md:w-auto bg-gray-900 hover:bg-black text-white px-8 py-3.5 rounded-xl text-sm font-bold uppercase tracking-wide shadow-lg shadow-gray-200 transition-all active:scale-95 flex items-center justify-center gap-2"},[...t[21]||(t[21]=[e("span",null,"Start Shopping",-1),I(),e("span",{class:"text-lg"},"‚ûî",-1)])])]),t[23]||(t[23]=e("div",{class:"text-[100px] sm:text-[140px] md:text-[180px] opacity-5 md:opacity-10 absolute -right-6 -bottom-8 sm:-right-10 sm:-bottom-10 rotate-12 select-none pointer-events-none transition-transform group-hover:rotate-6 group-hover:scale-110 duration-700"}," üõí ",-1))]),e("div",yt,[e("div",{onClick:V,class:"bg-white p-5 sm:p-6 rounded-xl border border-gray-100 shadow-sm hover:shadow-lg hover:border-blue-100 transition-all cursor-pointer group active:scale-95"},[...t[24]||(t[24]=[oe('<div class="flex items-center gap-4" data-v-9de9a3dd><div class="w-12 h-12 bg-blue-50 rounded-xl flex items-center justify-center text-2xl group-hover:scale-110 transition-transform duration-300" data-v-9de9a3dd> üè™</div><div class="text-left" data-v-9de9a3dd><h3 class="font-bold text-gray-800 text-sm sm:text-base" data-v-9de9a3dd>Browse Shops</h3><p class="text-[11px] sm:text-xs text-gray-500 mt-0.5" data-v-9de9a3dd>Explore sellers near you</p></div></div>',1)])]),e("div",{onClick:t[10]||(t[10]=s=>O(p).push({name:"Orders"})),class:"bg-white p-5 sm:p-6 rounded-xl border border-gray-100 shadow-sm hover:shadow-lg hover:border-orange-100 transition-all cursor-pointer group active:scale-95"},[...t[25]||(t[25]=[oe('<div class="flex items-center gap-4" data-v-9de9a3dd><div class="w-12 h-12 bg-orange-50 rounded-xl flex items-center justify-center text-2xl group-hover:scale-110 transition-transform duration-300" data-v-9de9a3dd> üì¶</div><div class="text-left" data-v-9de9a3dd><h3 class="font-bold text-gray-800 text-sm sm:text-base" data-v-9de9a3dd>My Orders</h3><p class="text-[11px] sm:text-xs text-gray-500 mt-0.5" data-v-9de9a3dd>Track active &amp; past orders</p></div></div>',1)])]),t[26]||(t[26]=oe('<div class="bg-white p-5 sm:p-6 rounded-xl border border-gray-100 shadow-sm hover:shadow-lg hover:border-green-100 transition-all cursor-default group" data-v-9de9a3dd><div class="flex items-center gap-4" data-v-9de9a3dd><div class="w-12 h-12 bg-green-50 rounded-xl flex items-center justify-center text-2xl group-hover:rotate-12 transition-transform duration-300" data-v-9de9a3dd> üéß</div><div class="text-left" data-v-9de9a3dd><h3 class="font-bold text-gray-800 text-sm sm:text-base" data-v-9de9a3dd>Support</h3><p class="text-[11px] sm:text-xs text-gray-500 mt-0.5" data-v-9de9a3dd>Contact us for help</p></div></div></div>',1))])])])):_.value==="Orders"?(r(),l("div",ht,[t[35]||(t[35]=e("h2",{class:"text-xl sm:text-2xl font-bold text-gray-800 flex items-center gap-2"},[e("span",null,"üì¶"),I(" My Orders ")],-1)),O(D).loading?(r(),l("div",wt,[(r(),l(M,null,E(3,s=>e("div",{key:s,class:"h-40 bg-white rounded-xl border border-gray-200 animate-pulse"})),64))])):ne.value.length?(r(),l("div",kt,[(r(!0),l(M,null,E(ne.value,s=>(r(),l("div",{key:s.name,class:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm hover:shadow-md transition-shadow relative group"},[e("div",Ct,[e("div",St,[e("div",$t,[e("div",jt,[t[29]||(t[29]=e("span",{class:"text-[10px] font-bold uppercase text-gray-400 block"},"Order ID",-1)),e("span",Ot,"#"+c(s.name),1)]),e("span",{class:y(["sm:hidden px-2 py-1 rounded text-[10px] font-bold uppercase border",ce(s)])},c(ue(s)),3)]),e("div",Nt,[e("div",null,[t[30]||(t[30]=e("span",{class:"block text-[10px] font-bold uppercase text-gray-400"},"Placed On",-1)),e("span",It,c(s.transaction_date),1)]),e("div",null,[t[31]||(t[31]=e("span",{class:"block text-[10px] font-bold uppercase text-gray-400"},"Total",-1)),e("span",Tt,"‚Çπ"+c(s.grand_total),1)])]),e("span",{class:y(["hidden sm:block px-2.5 py-1 rounded-full text-[10px] font-bold uppercase border",ce(s)])},c(ue(s)),3)])]),e("div",Pt,[s.docstatus===2?(r(),l("div",Lt)):f("",!0),(r(!0),l(M,null,E(s.items,d=>(r(),l("div",{key:d.item_code,class:"flex gap-3 sm:gap-4 items-center z-0 relative"},[e("div",Mt,[d.image?(r(),l("img",{key:0,src:d.image,class:"max-w-full max-h-full object-contain"},null,8,Et)):(r(),l("div",qt,"üì¶"))]),e("div",At,[e("p",Dt,c(d.item_name),1),e("p",Rt,"Qty: "+c(d.qty)+" √ó ‚Çπ"+c(d.rate),1)]),e("button",{onClick:m=>we(d,s.company),class:"text-[10px] font-bold text-blue-600 bg-blue-50 px-3 py-1.5 rounded hover:bg-blue-100 transition-colors uppercase whitespace-nowrap border border-blue-100 active:scale-95"},"‚Üª Buy Again",8,zt)]))),128))]),e("div",Ht,[s.docstatus===0?(r(),l("button",{key:0,onClick:d=>de(s.name),class:"text-[11px] font-bold text-red-600 bg-white hover:bg-red-50 border border-red-200 px-4 py-2 rounded shadow-sm uppercase flex items-center gap-1 transition-all active:scale-95"},[...t[32]||(t[32]=[e("span",null,"üóë",-1),I(" Delete Order ",-1)])],8,Bt)):f("",!0),s.docstatus===1&&s.status!=="Completed"&&s.status!=="Cancelled"?(r(),l("button",{key:1,onClick:d=>Ce(s.name),class:"text-[11px] font-bold text-orange-600 bg-white hover:bg-orange-50 border border-orange-200 px-4 py-2 rounded shadow-sm uppercase flex items-center gap-1 transition-all active:scale-95"},[...t[33]||(t[33]=[e("span",null,"‚úï",-1),I(" Cancel Order ",-1)])],8,Vt)):f("",!0),s.docstatus===2?(r(),l("button",{key:2,onClick:d=>de(s.name),class:"text-[11px] font-bold text-white bg-red-600 hover:bg-red-700 border border-red-600 px-4 py-2 rounded shadow-sm uppercase flex items-center gap-1 transition-all active:scale-95"},[...t[34]||(t[34]=[e("span",null,"üóë",-1),I(" Remove/Delete ",-1)])],8,Ut)):f("",!0)])]))),128))])):(r(),l("div",_t,[t[27]||(t[27]=e("div",{class:"text-5xl mb-4 grayscale opacity-20"},"üìú",-1)),t[28]||(t[28]=e("p",{class:"text-gray-400 font-bold text-sm"},"No orders found.",-1)),e("button",{onClick:t[11]||(t[11]=s=>O(p).push({name:"Home"})),class:"mt-4 text-blue-600 font-bold text-xs uppercase hover:underline"},"Start Shopping")]))])):W.value?(r(),l("div",Ft,[e("div",Jt,[e("h2",Gt,"Browsing "+c(Y.value),1),e("p",Qt,c(U.value),1),e("div",Wt,[e("span",{class:y({"text-gray-900 font-bold":O(n).params.pincode})},"Pin",2),t[36]||(t[36]=I(" ‚Ä∫ ",-1)),e("span",{class:y({"text-gray-900 font-bold":O(n).params.society})},"Soc",2),t[37]||(t[37]=I(" ‚Ä∫ ",-1)),e("span",{class:y({"text-gray-900 font-bold":O(n).params.category})},"Cat",2)])])])):_.value==="SellerItems"?(r(),l("div",Yt,[$.value?(r(),l("div",Kt,[...t[38]||(t[38]=[e("div",{class:"w-8 h-8 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mb-4"},null,-1),e("p",{class:"text-sm text-gray-500 font-medium"},"Loading products...",-1)])])):(r(),l("div",Xt,[e("div",Zt,[e("div",null,[e("h2",es,c(O(n).params.sellerName),1),e("div",ts,[e("span",ss,c(O(n).params.society),1),t[39]||(t[39]=e("span",{class:"text-gray-300"},"‚Ä¢",-1)),e("span",as,c(O(n).params.category),1)])]),e("span",os,c(X.value.length)+" ITEMS",1)]),X.value.length?f("",!0):(r(),l("div",rs,[...t[40]||(t[40]=[e("div",{class:"text-4xl grayscale opacity-30 mb-2"},"üì¶",-1),e("p",{class:"text-gray-400 font-bold text-sm"},"No items found in this category.",-1)])])),e("div",ls,[(r(!0),l(M,null,E(X.value,s=>(r(),l("div",{key:s.item_code,class:"bg-white rounded-lg border border-gray-200 hover:border-orange-400 hover:shadow-lg hover:-translate-y-1 transition-all duration-300 flex flex-col overflow-hidden group"},[e("div",ns,[s.image?(r(),l("img",{key:0,src:s.image,loading:"lazy",class:"max-h-full max-w-full object-contain group-hover:scale-105 transition-transform duration-300"},null,8,is)):(r(),l("div",ds,"üì¶"))]),e("div",cs,[e("h3",{class:"font-semibold text-gray-800 text-[13px] leading-snug line-clamp-2 h-9 mb-2",title:s.item_name},[e("span",{innerHTML:le(s.item_name)},null,8,ps)],8,us),e("div",gs,[e("div",ms,[e("span",xs,"‚Çπ"+c(s.price),1),e("span",vs,"‚Çπ"+c(Math.round(s.price*1.1)),1)]),e("button",{onClick:d=>he(s),class:"bg-yellow-400 hover:bg-yellow-500 text-gray-900 px-3 py-1.5 rounded-md text-[11px] font-bold uppercase shadow-sm active:scale-95 transition-all"},"Add",8,fs)])])]))),128))])]))])):_.value==="Cart"?(r(),l("div",bs,[e("div",ys,[e("div",hs,[t[41]||(t[41]=e("h2",{class:"font-bold text-gray-800 text-lg"},"Shopping Cart",-1)),e("span",ws,c(o.value.length)+" items",1)]),o.value.length?(r(),l("div",ks,[e("div",Cs,[(r(!0),l(M,null,E(o.value,(s,d)=>(r(),l("div",{key:d,class:"p-3 sm:p-4 flex gap-3 sm:gap-4 items-center hover:bg-gray-50 transition-colors"},[e("div",Ss,[s.image?(r(),l("img",{key:0,src:s.image,class:"max-w-full max-h-full object-contain"},null,8,$s)):(r(),l("div",js,"üì¶"))]),e("div",Os,[e("p",Ns,c(s.item_name),1),e("p",Is,[t[44]||(t[44]=e("span",null,"üè™",-1)),I(" "+c(s.seller_name),1)]),e("p",Ts,"‚Çπ"+c(s.price)+" / unit",1)]),e("div",Ps,[e("button",{onClick:m=>ie(s,-1),disabled:s.qty<=1,class:"px-2 hover:bg-gray-100 font-bold h-full disabled:opacity-30 text-gray-600 transition-colors"},"-",8,Ls),e("span",Ms,c(s.qty),1),e("button",{onClick:m=>ie(s,1),class:"px-2 hover:bg-gray-100 font-bold h-full text-gray-600 transition-colors"},"+",8,Es)]),e("div",qs,[e("p",As,"‚Çπ"+c((s.price*s.qty).toFixed(2)),1),e("button",{onClick:m=>_e(d),class:"text-[10px] text-red-500 font-bold hover:text-red-700 hover:underline mt-1"},"REMOVE",8,Ds)])]))),128))]),e("div",Rs,[e("div",null,[t[45]||(t[45]=e("p",{class:"text-[10px] font-bold text-gray-500 uppercase tracking-wider"},"Grand Total",-1)),e("p",zs,"‚Çπ"+c(ye.value),1)]),e("button",{onClick:ke,disabled:i.value,class:"bg-gray-900 text-white px-6 sm:px-8 py-3 rounded-xl text-xs sm:text-sm font-bold uppercase hover:bg-black disabled:opacity-50 disabled:cursor-not-allowed shadow-lg flex items-center gap-2 transition-all active:scale-95"},[i.value?(r(),l("span",Bs)):f("",!0),I(" "+c(i.value?"Processing...":"Place Order"),1)],8,Hs)])])):(r(),l("div",_s,[t[42]||(t[42]=e("div",{class:"text-6xl mb-4 grayscale opacity-20"},"üõí",-1)),t[43]||(t[43]=e("p",{class:"text-gray-400 font-bold text-sm mb-6"},"Your cart is empty.",-1)),e("button",{onClick:t[12]||(t[12]=s=>O(p).push({name:"Home"})),class:"bg-gray-900 text-white px-6 py-2 rounded-lg text-xs font-bold uppercase hover:bg-black shadow-md transition-transform active:scale-95"},"Start Shopping")]))])])):f("",!0)])])]))}},Gs=Te(Vs,[["__scopeId","data-v-9de9a3dd"]]);export{Gs as default};
//# sourceMappingURL=CustomerView-Bbmp6EGC.js.map
