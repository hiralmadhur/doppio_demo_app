var y=(b,i,t)=>new Promise((n,o)=>{var r=e=>{try{l(t.next(e))}catch(a){o(a)}},c=e=>{try{l(t.throw(e))}catch(a){o(a)}},l=e=>e.done?n(e.value):Promise.resolve(e.value).then(r,c);l((t=t.apply(b,i)).next())});import{c as p,a as s,w as _,b as v,v as x,d as w,t as h,r as d,u as k,o as m,s as u}from"./index-DScAjRzo.js";const S={class:"min-h-screen flex items-center justify-center bg-gray-50"},j={class:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md border border-gray-100"},D=["disabled"],I={key:0,class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"},B={key:0,class:"text-red-500 text-sm mt-4 text-center bg-red-50 py-2 rounded border border-red-100 font-medium"},N={__name:"Login",setup(b){const i=k(),t=d(""),n=d(""),o=d(""),r=d(!1),c=()=>y(this,null,function*(){r.value=!0,o.value="";try{const e=yield(yield fetch("/api/method/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({usr:t.value,pwd:n.value})})).json();if(e.message==="Logged In"){u.isLoggedIn=!0,u.user=t.value;const f=yield(yield fetch("/api/method/doppio_demo.api.get_user_role_info")).json();if(f.message){const g=f.message;u.role=g.role,g.role==="Seller"?(u.sellerCompany=g.company,i.push({name:"SellerDashboard"})):i.push({name:"Home"})}}else o.value=e.message||"Invalid Credentials"}catch(l){o.value="Network Error: "+l.message}finally{r.value=!1}});return(l,e)=>(m(),p("div",S,[s("div",j,[e[4]||(e[4]=s("div",{class:"text-center mb-8"},[s("div",{class:"text-4xl mb-2"},"ðŸ›ï¸"),s("h2",{class:"text-2xl font-extrabold text-gray-900"},"Welcome Back"),s("p",{class:"text-sm text-gray-500"},"Sign in to manage orders or shop")],-1)),s("form",{onSubmit:_(c,["prevent"]),class:"space-y-5"},[s("div",null,[e[2]||(e[2]=s("label",{class:"block text-gray-700 text-xs font-bold mb-2 uppercase tracking-wide"},"Email / Username",-1)),v(s("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>t.value=a),type:"text",class:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:border-orange-500 focus:ring-2 focus:ring-orange-100 transition-all",required:"",placeholder:"Enter your ID"},null,512),[[x,t.value]])]),s("div",null,[e[3]||(e[3]=s("label",{class:"block text-gray-700 text-xs font-bold mb-2 uppercase tracking-wide"},"Password",-1)),v(s("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>n.value=a),type:"password",class:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:border-orange-500 focus:ring-2 focus:ring-orange-100 transition-all",required:"",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"},null,512),[[x,n.value]])]),s("button",{type:"submit",disabled:r.value,class:"w-full bg-gray-900 text-white font-bold py-3.5 rounded-lg hover:bg-black transition-all shadow-lg active:scale-95 flex justify-center items-center gap-2"},[r.value?(m(),p("span",I)):w("",!0),s("span",null,h(r.value?"Authenticating...":"Sign In"),1)],8,D)],32),o.value?(m(),p("p",B,h(o.value),1)):w("",!0)])]))}};export{N as default};
//# sourceMappingURL=Login-6giNqKm3.js.map
